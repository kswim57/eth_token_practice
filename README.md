# eth_token_practice
making a smart-contracts practice

==========solidity 설치와 기본 세팅===================

Solidity는 이더리움에서 제공하는 스마트 컨트랙트 개발 언어이다.

- 스마트 컨트랙트(스마트 계약) : 블록체인 기술을 활용해 제 3의 인증기관 없이 개인 간의 계약이 이루어질 수 있도록 하는 기술이다. 즉, 블록체인에서 작동하는 디지털화된 계약서를 말한다.

Solidity는 기본적으로 이더(ETH)를 보내고 받는 데 필요한 데이터 타입, 함수 등을 제공하며 아래와 같은 세 가지의 특징을 가지고 있다.

1. 정적 타입(Statically typed)언어 : 
    1. 컴파일 시 변수의 타입이 결정된다. 
    2. 프로그래머가 변수의 들어갈 값의 타입에 따라 직접 타입을 명시해 주어야 한다.
2. Ethereun Virtual Machine(EVM) : 
    1. EVM이란 이더리움(Ethereum) 블록체인 네트워크의 참여자(노드)가 공유하는 하나의 가상 머신이며 이더리움(Ethereum) 전체를 작동하는 엔진과도 같다. 
    2. 솔리디티는 이러한 EVM을 타깃으로 디자인됨.
3. 튜링 완전성
    1. 튜링 완전이란 어떤 프로그래밍 언어나 추상 머신이 튜링 머신과 동일한 계산 능력으로 문제를 풀고 해결할 수 있다는 의미이다.
    2. 솔리디티는 자체적인 튜링 완전 언어들을 지원 → 사실상 가능한 모든 형태의 거래를 코드로 작성할 수 있음.
    3. 컴퓨터 코드 작업마다 수수료인 가스(Gas)를 부과해 악의적인 공격을 방어한다.

솔리디티 개발 환경(IDE)

- vscode, atom, intelliJ등을 사용할 수 있지만 추가적으로 사용해야 하는 프로그램들이 있음.
- 초심자라면 별도의 서버 없이 컴파일러와 런타임 환경을 제공하는 브라우저 기반의 IDE인 Remix로 시작하자.

솔리디티 설치 방법

이더리움에서 스마트 컨트랙트를 실행하기 위해서는 솔리디티 코드를 작성하고 solc라는 솔리디티 컴파일러로 컴파일하여 이더리움 블록체인에 배포해야 한다.

- 컴파일러 설치
    
    ![스크린샷 2022-12-29 오전 10.30.55.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7ec65c07-a1ff-47ef-af91-fc875cccd07f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2022-12-29_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.30.55.png)
    
- 설치(버전) 확인
    
    ![스크린샷 2022-12-29 오전 10.31.18.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f4b6950c-9dbc-45fb-8a29-0d3a9d29da6e/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2022-12-29_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.31.18.png)
    

기본적인 스마트계약 구조

1. SPDX 라이센스 식별자.
    1. 솔리디티 소스 코드를 사용할 수 있게 하는것은 항상 저작권과 관련된 법적 문제를 다룬다.
    2. 컴파일러는 기계 판독이 가능한 SPDX라이센스 식별자의 사용을 권장한다.
    3. 모든 소스 파일은 라이센스를 나타내는 주석으로 시작한다.
    4. 주석은 파일의 어느 곳에 있어도 컴파일러가 인식하지만, 항상 최상단에 두자.
    5. // SPDX-License-Identifier: GPL-3.0 // 는 GPL 3.0버전 라이선스 하에 있다는 것을 의미한다.
2. Version Pragma
    1. 솔리디티 버전을 선언하는 것이다.
    2. 새로운 컴파일러가 나와도 기존 코드가 깨지는 것을 방지하며, 새로운 컴파일러와 이전 컴파일러 버전 사이에 호환되지 않는 변경 사항이 생기는 것을 차단한다.
3. contract
    1. 배포할 계약 코드를 작성하는 곳이다.

계약 코드 실행

1. Remix에서 폴더와 파일명을 만들고, 코드를 작성한다.


1. 만든 코드를 컴파일한다.


1. Deploy(배포)를 누른다.


1. 계약이 정상적으로 배포된 것을 확인


# Solidity 문법 예제/변수, 자료형, 값타입, 참조타입, 매핑

[솔리디티 문법 예제ㅣ변수, 자료형, 값타입, 참조타입, 매핑](https://www.codestates.com/blog/content/%EC%86%94%EB%A6%AC%EB%94%94%ED%8B%B0-%EB%AC%B8%EB%B2%95%EA%B3%BC-%EC%98%88%EC%A0%9C-1)

### 변수(Variables)

자료형/변수/대입 연산자/값 의 구성

솔리디티의 3가지 변수 타입

- 지역 변수(local): 함수 안에서 선언됨. 블록체인에 기록되지 않음.
- 상태 변수(state): 함수 밖에서 선어됨. 블록체인에 저장돼 영속성을 가지게 됨. 함수 ㅐㄴ부 어디에서든지 사용 가능하며 가시성 지정자에 따라 변수의 접근 범위가 달라짐
- 전역 변수(global): 블록체인에 관한 정보를 제공함.

    
    변수의 사용 예시
    

### 자료형(Data type)

솔리디티 자료형은 크게 값 타임(value type)과 참조 타입(Reference type)으로 나눌 수 있다. 

- 값 타입은 값이 할당되거나 함수의 인자로 활용이 되면 해당 값 자체가 복사된다.
- 참조 타입은 현재 해당하는 값의 주소만 복사된다. 즉 참조형 타입의 특징은 데이터를 어디에 저장할지 명시해야 한다는 것이다. 기본적으로 참조형은 배열(array), 매핑(mapping), 구조체(Struct)로 구성되어 있다.

**값 타입(value type)**

1. **불리언(Boolean) 타입: bool**
    1. 참과 거짓으로 이루어진 자료형. 솔리디티에서 불리언은 bool로 표기함. 특정한 조건에 발생하는 행동을 통제할 때 쓰이며, 주로 비교 연산자, 논리 연산자와 함께 사용됨.
2. **정수(Integer)타입: unit와 int**
    1. 솔리디티는 기존 프로그래밍 언어와 다르게 소수점이 있는 숫자를 지원하지 않음. 정수형의 목적은 가격, 토큰의 아이디와 같이 숫자로 된 정보를 표현하기 위함
    2. 솔리디티의 정수형 타입은 uint(부호 없는 정수형)와 int(정수형)이며 둘의 차이점은 음수의 포함 여부이다. 주로 산술 연산자와 비교 연산자에서 함께 사용됨
3. **바이트 타입(bytes)**
    1. 바이트 타입은 고정 크기 바이트(값 타입) 배열과 동적 크기 바이트 배열로 나뉨.
    2. 고정 크기 바이트 배열은 값 타입이며, 사용할 바이트를 미리 지정한다.
    3. 동적 크기 바이트는 참조 타입이며 사용할 바이트 값을 지정하지 않아도 된다.
4. 문자열 타입(string)
    1. 동적 크기 UTF-8(Unicode Transformation Format-8)로 인코딩된 배열.
5. 주소 타입(address)
    1. 계정의 주소를 나타낸다. 주소형 타입의 크기는 20bytes로 지정되어 있고, 유저의 고유 아이디 또는 배포된 스마트 계약의 아이디로 볼 수 있다. 이 주소를 통해 암호화폐를 주고받게 된다.

참조 타입(Referece type)

1. 매핑(Mapping)
    1. 매핑은 자바스크립트의 오브젝트와 같이 키와 값의 형태로 저장한다. 다시 말해 키와 대응하는 값을 저장하므로 원하는 값을 얻기 위해서는 그 값의 올바른 키를 입력해야 한다.
    2. mapping(key type ⇒ value type)가시성 지정자 매핑명)으로 정의된다.
    3. key type은 모든 기본 값(정수 등), bytes, string, 계약이 될 수 있다. 
    4. value type은 다른 매핑과 배열을 포함한 모든 유형이 될 수 있다.
